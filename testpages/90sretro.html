<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>90s Micro Page</title>
<style>
  /* Reset & layout */
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:#0b0f1a;overflow:hidden;font-family: "Courier New", Courier, monospace;}
  .wrap{height:100vh;display:grid;place-items:center;position:relative;color:#f8f6ff}

  /* 90s background: neon gradient + subtle grid + CRT lines */
  .bg{
    position:absolute;inset:0;z-index:0;
    background:
      radial-gradient(ellipse at 20% 20%, rgba(255,0,128,0.08), transparent 10%),
      radial-gradient(ellipse at 80% 80%, rgba(0,255,255,0.04), transparent 10%),
      linear-gradient(135deg,#0b0f1a 0%, #081029 40%, #0b1026 100%);
    filter: contrast(1.05) saturate(1.05);
  }
  /* grid lines */
  .bg::after{
    content:"";position:absolute;inset:0;
    background-image: linear-gradient(transparent 0 calc(100% - 1px), rgba(255,255,255,0.02) calc(100% - 1px) 100%), linear-gradient(90deg, transparent 0 calc(100% - 1px), rgba(255,255,255,0.02) calc(100% - 1px) 100%);
    background-size: 60px 60px, 60px 60px;
    pointer-events:none;
    mix-blend-mode: overlay;
    opacity:0.5;
  }
  /* CRT scanlines */
  .bg::before{
    content:"";position:absolute;inset:0;
    background-image: linear-gradient(rgba(0,0,0,0.06) 50%, rgba(255,255,255,0.02) 51%);
    background-size: 100% 4px;
    mix-blend-mode: multiply;opacity:0.25;pointer-events:none;
  }

  /* Content card (center) */
  .card{
    position:relative;z-index:4;
    width:min(920px,92vw);height:min(560px,86vh);
    border-radius:14px;padding:28px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border: 2px solid rgba(255,255,255,0.06);
    box-shadow: 0 10px 40px rgba(2,6,23,0.8), 0 0 30px rgba(128,0,255,0.06) inset;
    display:flex;flex-direction:column;align-items:center;justify-content:center;gap:18px;
    backdrop-filter: blur(2px);
    overflow:hidden;
  }

  /* Minimal "no real headers" approach: small label */
  .brand{font-size:12px;letter-spacing:2px;color:#cbd5ff;opacity:0.8;position:absolute;left:14px;top:10px}

  /* Blurb */
  .blurb{
    text-align:center;
    max-width:72ch;
    font-size:20px;
    line-height:1.35;
    color:#e8e6ff;
    text-shadow: 0 1px 0 rgba(0,0,0,0.6);
  }
  .blurb .word{display:inline-block;position:relative;padding:0 2px}

  /* Glitch look */
  .glitch{
    animation: glitch-flicker .9s steps(2, end) 1;
    color:#fff6d6;
    text-shadow: 0 0 8px rgba(255,255,128,0.6), -2px 0 8px rgba(255,0,128,0.3);
  }
  @keyframes glitch-flicker{
    0%{transform: translateY(0) skewX(0deg)}
    20%{transform: translateY(-2px) skewX(-6deg)}
    40%{transform: translateY(1px) skewX(8deg)}
    60%{transform: translateY(0) skewX(0deg)}
    100%{transform: translateY(0) skewX(0deg)}
  }

  /* floating 'ads' */
  .ads{position:absolute;z-index:3;inset:0;pointer-events:none}
  .ad{
    position:absolute;pointer-events:auto;
    width:150px;height:90px;border-radius:8px;
    background:linear-gradient(160deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
    border:2px solid rgba(255,255,255,0.06);
    display:flex;flex-direction:column;justify-content:center;align-items:center;
    font-size:12px;color:#e8f6ff;text-decoration:none;text-align:center;
    box-shadow: 0 8px 24px rgba(0,0,0,0.5);
    backdrop-filter: blur(2px);
    transition: transform .12s ease, box-shadow .12s;
  }
  .ad:hover{transform: translateY(-4px) scale(1.03);box-shadow:0 18px 40px rgba(0,0,0,0.6)}
  .ad .title{font-weight:700;font-size:13px;letter-spacing:0.6px;margin-bottom:6px}
  .ad .cta{font-size:11px;opacity:0.9}

  /* Faux popup windows created on mouseover */
  .popup{
    position:absolute;z-index:2000;
    width:320px;border-radius:6px;background:#f6f7ff;color:#07102b;
    border:3px solid #000;margin:0;padding:0;box-shadow: 12px 18px 36px rgba(0,0,0,0.6);
    overflow:hidden;pointer-events:auto;
    transform-origin:center center;
    animation: popup-in .18s ease;
  }
  @keyframes popup-in{from{transform:scale(.92) translateY(8px);opacity:0} to{transform:scale(1);opacity:1}}
  .popup .titlebar{
    background:linear-gradient(90deg,#001033,#002040);color:#fff;padding:8px 10px;display:flex;justify-content:space-between;align-items:center;font-size:13px;
  }
  .popup .titlebar .close{cursor:pointer;padding:4px 8px;border-radius:3px;background:rgba(255,255,255,0.06)}
  .popup .content{padding:14px;font-size:13px;line-height:1.3;color:#07102b;background:linear-gradient(180deg,#fff,#f3f4ff)}

  /* small visual flicker to add retro feel */
  .pulse{position:absolute;inset:0;z-index:2;mix-blend-mode:screen;opacity:0.03;pointer-events:none;background: radial-gradient(circle at 10% 10%, rgba(255,255,255,0.25), transparent 2%);}

  /* Responsive tweaks */
  @media (max-width:520px){
    .card{padding:18px;height:92vh;width:94vw;border-radius:8px}
    .ad{width:120px;height:76px;font-size:11px}
    .popup{width:90%}
  }
</style>
</head>
<body>
<div class="wrap" id="wrap">
  <div class="bg"></div>
  <div class="pulse"></div>

  <div class="card" id="card" tabindex="0">
    <div class="brand">NO REAL HEADERS</div>
    <div class="blurb" id="blurb" aria-live="polite">
      <!-- words will be split by JS into spans for glitching -->
      <span>remember that summer</span>
      <span>when the internet felt infinite</span>
      <span>and every link might be a secret?</span>
    </div>
  </div>

  <div class="ads" id="ads"></div>
</div>

<script>
/* -----------------------
  Config (edit links & texts here)
   - No external resources used
------------------------*/
const AD_SPECS = [
  {label:"HOT SHAREWARE", cta:"click to open", href:"https://example.com/1"},
  {label:"GIF ARCHIVE", cta:"browse", href:"https://example.com/2"},
  {label:"CHAT BBS", cta:"connect", href:"https://example.com/3"},
  {label:"FREE SCREENS", cta:"download", href:"https://example.com/4"}
];

const BLURB_TEXT = [
  "remember that summer",
  "when the internet felt infinite",
  "and every link might be a secret?"
];

/* -----------------------
  build blurb word spans
------------------------*/
const blurbEl = document.getElementById('blurb');
function buildBlurb(){
  blurbEl.innerHTML = '';
  const text = BLURB_TEXT.join(' ');
  // split into words, keep punctuation
  const words = text.match(/[\w'’]+|[^\s\w]+/g) || [];
  words.forEach((w, i) => {
    const span = document.createElement('span');
    span.className = 'word';
    span.dataset.original = w;
    span.textContent = w + (i < words.length-1 ? ' ' : '');
    blurbEl.appendChild(span);
  });
}
buildBlurb();

/* -----------------------
 Glitch logic:
 - occasionally pick random words and 'glitch' them
 - glitch = replace text with random chars & CSS flicker, then restore
------------------------*/
const GLITCH_INTERVAL_MS = 1500; // how often to try glitching
const GLITCH_DURATION = 700; // how long each glitch lasts

function randInt(max){return Math.floor(Math.random()*max)}
function randomChars(len){
  const chars = "█▓▒░@#%&*+-=<>!?/\\[]{}0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";
  let s='';
  for(let i=0;i<len;i++) s += chars.charAt(Math.floor(Math.random()*chars.length));
  return s;
}

function pickAndGlitch(){
  const words = Array.from(blurbEl.querySelectorAll('.word'));
  if(words.length===0) return;
  // bias: sometimes glitch 1 word, sometimes 2
  const count = Math.random() < 0.15 ? 2 : 1;
  const chosen = [];
  for(let i=0;i<count;i++){
    const w = words[randInt(words.length)];
    if(!chosen.includes(w)) chosen.push(w);
  }
  chosen.forEach(wEl=>{
    // skip if already glitching
    if(wEl.dataset.glitching === '1') return;
    wEl.dataset.glitching = '1';
    const original = wEl.dataset.original || wEl.textContent;
    const len = Math.max(1, Math.min( Math.round(original.length*0.8), 6 ));
    wEl.classList.add('glitch');
    const randText = randomChars(len);
    wEl.textContent = randText + (wEl.textContent.endsWith(' ') ? ' ' : '');
    // subtle glitch audio? (no external assets) -- skipped to avoid extra complexity
    setTimeout(()=>{
      wEl.textContent = original + (wEl.textContent.endsWith(' ') ? ' ' : '');
      wEl.classList.remove('glitch');
      wEl.dataset.glitching = '0';
    }, GLITCH_DURATION);
  });
}
setInterval(pickAndGlitch, GLITCH_INTERVAL_MS);

/* -----------------------
  Create floating ad tiles
  - they are clickable anchors that open in new tab
  - placed in random positions but inside visible area
------------------------*/
const adsContainer = document.getElementById('ads');

function placeAds(){
  adsContainer.innerHTML='';
  const pad = 18;
  const ww = window.innerWidth;
  const wh = window.innerHeight;
  const used = [];
  AD_SPECS.forEach((adSpec, i) => {
    const a = document.createElement('a');
    a.className = 'ad';
    a.setAttribute('role','link');
    a.href = adSpec.href;
    a.target = '_blank';
    a.rel = 'noopener noreferrer';
    a.innerHTML = `<div class="title">${adSpec.label}</div><div class="cta">${adSpec.cta}</div>`;
    // random-ish positions but avoid center card area
    let x,y,tries=0;
    do{
      x = Math.random() * (ww - 170 - pad*2) + pad;
      y = Math.random() * (wh - 110 - pad*2) + pad;
      tries++;
      // avoid overlapping too much
    } while( used.some(r => Math.abs(r.x-x)<160 && Math.abs(r.y-y)<90) && tries<40 );
    used.push({x,y});
    a.style.left = x + 'px';
    a.style.top = y + 'px';
    // subtle random rotation for retro chaos
    a.style.transform = `rotate(${(Math.random()-0.5)*4}deg)`;
    adsContainer.appendChild(a);
  });
}
placeAds();
window.addEventListener('resize', ()=>{placeAds();});

/* -----------------------
  Faux popup generator on mouseover
  - spawns a draggable faux window (in-page)
  - throttled to avoid extreme spam
------------------------*/
let lastPopupAt = 0;
const POPUP_THROTTLE_MS = 160; // one popup at most ~every 160ms
const MAX_POPUPS = 9;
const activePopups = [];

function randomInt(min,max){return Math.floor(Math.random()*(max-min+1))+min}
function makePopup(triggerEl){
  const now = Date.now();
  if(now - lastPopupAt < POPUP_THROTTLE_MS) return;
  lastPopupAt = now;

  const popup = document.createElement('div');
  popup.className = 'popup';
  const w = randomInt(260,420);
  const h = randomInt(120,260);
  popup.style.width = w + 'px';
  popup.style.left = randomInt(10, Math.max(10, window.innerWidth - w - 10)) + 'px';
  popup.style.top = randomInt(10, Math.max(10, window.innerHeight - h - 10)) + 'px';

  const titlebar = document.createElement('div');
  titlebar.className = 'titlebar';
  titlebar.innerHTML = `<div class="ttext">${["Notice","Alert","Tip","Download","Error"][randomInt(0,4)]}</div><div class="close">×</div>`;

  const content = document.createElement('div');
  content.className = 'content';
  // random message with a link from AD_SPECS
  const ad = AD_SPECS[randomInt(0, AD_SPECS.length-1)];
  content.innerHTML = `<div style="font-weight:700;margin-bottom:8px">${ad.label}</div>
  <div style="font-size:12px;margin-bottom:10px">Looks like you hovered near something interesting — <a href="${ad.href}" target="_blank" rel="noopener noreferrer">open</a>?</div>
  <small style="opacity:.7">[drag to move] [close to dismiss]</small>`;

  popup.appendChild(titlebar);
  popup.appendChild(content);
  document.body.appendChild(popup);
  activePopups.push(popup);
  // remove oldest if too many
  if(activePopups.length > MAX_POPUPS){
    const old = activePopups.shift();
    if(old?.parentNode) old.parentNode.removeChild(old);
  }

  // close button
  titlebar.querySelector('.close').addEventListener('click', ()=>{ popup.remove(); const idx = activePopups.indexOf(popup); if(idx>-1) activePopups.splice(idx,1); });

  // make draggable (simple)
  titlebar.style.cursor = 'grab';
  let dragging = false, offsetX=0, offsetY=0;
  titlebar.addEventListener('pointerdown', (e)=>{
    dragging = true; titlebar.setPointerCapture(e.pointerId); titlebar.style.cursor = 'grabbing';
    const rect = popup.getBoundingClientRect();
    offsetX = e.clientX - rect.left; offsetY = e.clientY - rect.top;
  });
  titlebar.addEventListener('pointermove', (e)=>{ if(!dragging) return; let nx = e.clientX - offsetX; let ny = e.clientY - offsetY;
    // clamp
    nx = Math.max(6, Math.min(nx, window.innerWidth - popup.offsetWidth - 6));
    ny = Math.max(6, Math.min(ny, window.innerHeight - popup.offsetHeight - 6));
    popup.style.left = nx + 'px'; popup.style.top = ny + 'px';
  });
  titlebar.addEventListener('pointerup', (e)=>{ dragging=false; try{ titlebar.releasePointerCapture(e.pointerId); }catch(e){} titlebar.style.cursor='grab'; });
}

/* attach mouseover to entire document (any element) */
document.addEventListener('mouseover', (ev) => {
  // ignore if pointer is from popup itself (we still want new popups though per spec — but avoid super spammy)
  const el = ev.target;
  // spawn popup near mouse (but in-page) using our function
  makePopup(el);
});

/* tweak: spawn a popup when user moves mouse (mousemove) occasionally too */
let lastMove = 0;
document.addEventListener('mousemove', (e)=>{
  const now = Date.now();
  if(now - lastMove > 700 && Math.random() < 0.28){
    lastMove = now;
    makePopup(e.target);
  }
});

/* optional: keyboard 'r' to re-place ads, 'g' to force glitch, 'c' to clear popups */
document.addEventListener('keydown', (ev)=>{
  if(ev.key === 'r'){ placeAds(); }
  if(ev.key === 'g'){ pickAndGlitch(); }
  if(ev.key === 'c'){ document.querySelectorAll('.popup').forEach(p=>p.remove()); activePopups.length=0; }
});

/* Accessibility: focus on card to enable keyboard interactions */
document.getElementById('card').addEventListener('focus', ()=>{ /* placeholder */ });

/* small friendly hint to show it's JS-heavy and all in one file */
console.log('90s micro page loaded — single HTML, no external resources, popups enabled.');

/* Prevent accidental selection while dragging */
document.addEventListener('selectstart', (e)=>{ if(e.target.closest('.popup .titlebar')) e.preventDefault(); });

</script>
</body>
</html>
