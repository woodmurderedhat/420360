<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generative Art</title>
    <link rel="stylesheet" href="styles.css">
    <!--
        README:
        Generative Art Website

        Usage:
        - Open index.html in any modern web browser.
        - The page will display a unique abstract drawing on a full-screen canvas.
        - Use the style selector (top-left corner) or press keys 1-6 to choose an art style.
        - Click the "Regenerate" button (or press "R") to clear the canvas
          and draw a new random composition in the chosen style.
        - (Optional) Click "Export PNG" to download the current artwork.

        Features:
        - Runs entirely offline.
        - Uses HTML5, CSS3, and vanilla JavaScript.
        - No external network requests.
        - Canvas auto-resizes to fill the viewport with high-DPI support.
        - Art is composed of randomly generated graphic primitives based on the selected style.
        - Random HSL colors are used for harmonious palettes, tailored to each style.
        - Multiple distinct art styles to choose from.
    -->
</head>
<body>
    <canvas id="artCanvas"></canvas>
    <div id="mobileMenuOverlay" class="mobile-menu-overlay"></div>
    <div id="controlsPanel">
        <button id="togglePanelButton" title="Toggle settings panel">Hide Settings</button>

        <!-- Basic Controls -->
        <div class="control-section">
            <h3>Basic Controls</h3>
            <label for="numShapes">Number of Shapes:</label>
            <input type="range" id="numShapes" min="10" max="1000" step="10" value="100">
            <span id="numShapesValue" class="slider-value">100</span>

            <label for="lineWidth">Line Width:</label>
            <input type="range" id="lineWidth" min="0.5" max="10" step="0.1" value="1">
            <span id="lineWidthValue" class="slider-value">1</span>

            <label for="backgroundColorPicker">Background Color:</label>
            <input type="color" id="backgroundColorPicker" value="#ffffff">
        </div>

        <!-- Color Controls -->
        <div class="control-section">
            <h3>Color Settings</h3>
            <label for="colorThemeSelector">Color Theme:</label>
            <select id="colorThemeSelector">
                <option value="random">Random</option>
                <option value="monochrome">Monochrome</option>
                <option value="complementary">Complementary</option>
                <option value="analogous">Analogous</option>
                <option value="triadic">Triadic</option>
                <option value="custom">Custom</option>
            </select>

            <div id="customColorControls" style="display: none;">
                <label for="baseHue">Base Hue (0-360):</label>
                <input type="range" id="baseHue" min="0" max="360" step="1" value="180">
                <span id="baseHueValue" class="slider-value">180</span>

                <label for="saturation">Saturation (0-100):</label>
                <input type="range" id="saturation" min="0" max="100" step="1" value="70">
                <span id="saturationValue" class="slider-value">70</span>

                <label for="lightness">Lightness (0-100):</label>
                <input type="range" id="lightness" min="0" max="100" step="1" value="50">
                <span id="lightnessValue" class="slider-value">50</span>
            </div>
        </div>

        <!-- Layer Controls -->
        <div class="control-section">
            <h3>Layer Controls</h3>
            <div class="layer-controls">
                <label for="voronoiOpacity">Voronoi Cells:</label>
                <input type="range" id="voronoiOpacity" min="0" max="1" step="0.05" value="0.4">
                <span id="voronoiOpacityValue" class="slider-value">0.4</span>

                <label for="organicSplattersOpacity">Organic Splatters:</label>
                <input type="range" id="organicSplattersOpacity" min="0" max="1" step="0.05" value="0.3">
                <span id="organicSplattersOpacityValue" class="slider-value">0.3</span>

                <label for="neonWavesOpacity">Neon Waves:</label>
                <input type="range" id="neonWavesOpacity" min="0" max="1" step="0.05" value="0.6">
                <span id="neonWavesOpacityValue" class="slider-value">0.6</span>

                <label for="fractalLinesOpacity">Fractal Lines:</label>
                <input type="range" id="fractalLinesOpacity" min="0" max="1" step="0.05" value="0.7">
                <span id="fractalLinesOpacityValue" class="slider-value">0.7</span>

                <label for="geometricGridOpacity">Geometric Grid:</label>
                <input type="range" id="geometricGridOpacity" min="0" max="1" step="0.05" value="0.6">
                <span id="geometricGridOpacityValue" class="slider-value">0.6</span>

                <label for="particleSwarmOpacity">Particle Swarm:</label>
                <input type="range" id="particleSwarmOpacity" min="0" max="1" step="0.05" value="0.5">
                <span id="particleSwarmOpacityValue" class="slider-value">0.5</span>

                <label for="organicNoiseOpacity">Organic Noise:</label>
                <input type="range" id="organicNoiseOpacity" min="0" max="1" step="0.05" value="0.3">
                <span id="organicNoiseOpacityValue" class="slider-value">0.3</span>

                <label for="glitchMosaicOpacity">Glitch Mosaic:</label>
                <input type="range" id="glitchMosaicOpacity" min="0" max="1" step="0.05" value="0.15">
                <span id="glitchMosaicOpacityValue" class="slider-value">0.15</span>

                <label for="pixelSortOpacity">Pixel Sort:</label>
                <input type="range" id="pixelSortOpacity" min="0" max="1" step="0.05" value="0.2">
                <span id="pixelSortOpacityValue" class="slider-value">0.2</span>

                <!-- New layer opacity controls -->
                <label for="gradientOverlayOpacity">Gradient Overlay:</label>
                <input type="range" id="gradientOverlayOpacity" min="0" max="1" step="0.05" value="0.3">
                <span id="gradientOverlayOpacityValue" class="slider-value">0.3</span>

                <label for="dotMatrixOpacity">Dot Matrix:</label>
                <input type="range" id="dotMatrixOpacity" min="0" max="1" step="0.05" value="0.4">
                <span id="dotMatrixOpacityValue" class="slider-value">0.4</span>

                <label for="textureOverlayOpacity">Texture Overlay:</label>
                <input type="range" id="textureOverlayOpacity" min="0" max="1" step="0.05" value="0.2">
                <span id="textureOverlayOpacityValue" class="slider-value">0.2</span>

                <label for="symmetricalPatternsOpacity">Symmetrical Patterns:</label>
                <input type="range" id="symmetricalPatternsOpacity" min="0" max="1" step="0.05" value="0.5">
                <span id="symmetricalPatternsOpacityValue" class="slider-value">0.5</span>

                <label for="flowingLinesOpacity">Flowing Lines:</label>
                <input type="range" id="flowingLinesOpacity" min="0" max="1" step="0.05" value="0.4">
                <span id="flowingLinesOpacityValue" class="slider-value">0.4</span>
            </div>
        </div>

        <!-- Layer Density Controls -->
        <div class="control-section">
            <h3>Layer Density</h3>
            <label for="voronoiDensity">Voronoi Cells Density:</label>
            <input type="range" id="voronoiDensity" min="5" max="50" step="1" value="15">
            <span id="voronoiDensityValue" class="slider-value">15</span>

            <label for="organicSplattersDensity">Organic Splatters Density:</label>
            <input type="range" id="organicSplattersDensity" min="3" max="30" step="1" value="10">
            <span id="organicSplattersDensityValue" class="slider-value">10</span>

            <label for="neonWavesDensity">Neon Waves Count:</label>
            <input type="range" id="neonWavesDensity" min="1" max="15" step="1" value="5">
            <span id="neonWavesDensityValue" class="slider-value">5</span>

            <label for="fractalLinesDensity">Fractal Lines Count:</label>
            <input type="range" id="fractalLinesDensity" min="1" max="10" step="1" value="2">
            <span id="fractalLinesDensityValue" class="slider-value">2</span>

            <!-- New layer density controls -->
            <label for="dotMatrixDensity">Dot Matrix Density:</label>
            <input type="range" id="dotMatrixDensity" min="5" max="50" step="1" value="20">
            <span id="dotMatrixDensityValue" class="slider-value">20</span>

            <label for="flowingLinesDensity">Flowing Lines Count:</label>
            <input type="range" id="flowingLinesDensity" min="1" max="20" step="1" value="8">
            <span id="flowingLinesDensityValue" class="slider-value">8</span>

            <label for="symmetricalPatternsDensity">Symmetrical Patterns Count:</label>
            <input type="range" id="symmetricalPatternsDensity" min="3" max="12" step="1" value="6">
            <span id="symmetricalPatternsDensityValue" class="slider-value">6</span>
        </div>

        <!-- Advanced Controls -->
        <div class="control-section">
            <h3>Advanced Controls</h3>

            <label for="blendModeSelector">Blend Mode:</label>
            <select id="blendModeSelector">
                <option value="source-over">Normal</option>
                <option value="multiply">Multiply</option>
                <option value="screen">Screen</option>
                <option value="overlay">Overlay</option>
                <option value="darken">Darken</option>
                <option value="lighten">Lighten</option>
                <option value="color-dodge">Color Dodge</option>
                <option value="color-burn">Color Burn</option>
                <option value="hard-light">Hard Light</option>
                <option value="soft-light">Soft Light</option>
                <option value="difference">Difference</option>
                <option value="exclusion">Exclusion</option>
            </select>

            <label for="colorShiftAmount">Color Shift:</label>
            <input type="range" id="colorShiftAmount" min="-50" max="50" step="1" value="0">
            <span id="colorShiftAmountValue" class="slider-value">0</span>

            <label for="scaleAmount">Scale:</label>
            <input type="range" id="scaleAmount" min="0.5" max="2" step="0.1" value="1.0">
            <span id="scaleAmountValue" class="slider-value">1.0</span>

            <label for="rotationAmount">Rotation:</label>
            <input type="range" id="rotationAmount" min="0" max="1" step="0.05" value="0">
            <span id="rotationAmountValue" class="slider-value">0</span>
        </div>

        <!-- Animation Controls -->
        <div class="control-section">
            <h3>Animation</h3>
            <div class="toggle-control">
                <label for="animationToggle">Enable Animation:</label>
                <input type="checkbox" id="animationToggle">
            </div>

            <label for="animationSpeed">Animation Speed:</label>
            <input type="range" id="animationSpeed" min="1" max="100" step="1" value="50" disabled>
            <span id="animationSpeedValue" class="slider-value">50</span>

            <div class="toggle-control">
                <label for="interactiveToggle">Interactive Mode:</label>
                <input type="checkbox" id="interactiveToggle">
            </div>

            <div class="toggle-control">
                <label for="adaptiveQualityToggle">Adaptive Quality:</label>
                <input type="checkbox" id="adaptiveQualityToggle" checked>
            </div>

            <div class="performance-info">
                <div>FPS: <span id="fpsDisplay">-</span></div>
                <div>Quality: <span id="qualityLevelDisplay">100%</span></div>
            </div>
        </div>

        <!-- Canvas Size -->
        <div class="control-section">
            <h3>Canvas Size</h3>
            <label for="canvasWidth">Width:</label>
            <input type="number" id="canvasWidth" min="200" max="3840" step="10" placeholder="window.innerWidth">

            <label for="canvasHeight">Height:</label>
            <input type="number" id="canvasHeight" min="200" max="2160" step="10" placeholder="window.innerHeight">
        </div>

        <!-- Seed Controls -->
        <div class="control-section">
            <h3>Seed</h3>
            <label for="seedInput">Seed Value:</label>
            <input type="text" id="seedInput" placeholder="random">
            <button id="randomSeedButton">Random Seed</button>
            <div id="currentSeedDisplay">Seed: <span></span></div>
        </div>

        <!-- History Controls -->
        <div class="control-section">
            <h3>History</h3>
            <div class="history-controls">
                <button id="undoButton" title="Undo (Ctrl+Z)" disabled>Undo</button>
                <button id="redoButton" title="Redo (Ctrl+Y)" disabled>Redo</button>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="control-section buttons-section">
            <button id="regenerateButton">Regenerate</button>
            <button id="exportButton">Export PNG</button>
            <button id="saveToGalleryButton">Save to Gallery</button>
            <button id="galleryButton">Open Gallery</button>
            <button id="resetSettings">Reset Defaults</button>
            <button id="applySettings">Apply Settings</button>
            <button id="copyLinkButton">Copy Link</button>
            <button id="fullscreenButton">Fullscreen</button>
        </div>

        <div id="shortcuts" class="panel-text">
            Shortcuts: <code>R</code>=Regenerate, <code>E</code>=Export, <code>G</code>=Gallery,
            <code>Space</code>=Toggle Animation, <code>1-9</code>=Styles, <code>F</code>=Fullscreen,
            <code>Ctrl+Z</code>=Undo, <code>Ctrl+Y</code>=Redo
        </div>
    </div>

    <!-- Gallery Modal -->
    <div id="galleryModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Your Gallery</h2>
            <div id="galleryContainer" class="gallery-container"></div>
        </div>
    </div>

    <!-- Loading Indicator -->
    <div id="loadingIndicator" class="loading-indicator">
        <div class="spinner"></div>
        <div class="loading-text">Generating artwork...</div>
    </div>

    <!-- Mobile Action Buttons -->
    <div class="mobile-action-buttons">
        <button id="mobileRegenerateButton" title="Regenerate (R)">↻</button>
        <button id="mobileExportButton" title="Export (E)">⬇</button>
        <button id="mobileGalleryButton" title="Gallery (G)">🖼️</button>
        <button id="mobileFullscreenButton" title="Fullscreen (F)">⛶</button>
    </div>

    <!-- Error Container -->
    <div id="errorContainer" style="display: none;"></div>

    <script type="module" src="js/main.js"></script>
    <script src="test-console.js"></script>
    <script src="test-functionality.js"></script>
    <script src="test-todo-items.js"></script>
</body>
</html>
